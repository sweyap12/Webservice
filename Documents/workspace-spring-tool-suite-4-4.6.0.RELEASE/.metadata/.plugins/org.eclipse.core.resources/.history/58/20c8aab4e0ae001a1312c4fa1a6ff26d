package test.courseapi;

import static org.junit.jupiter.api.Assertions.*;

import org.json.JSONException;
import org.json.JSONArray;
import org.json.JSONObject;
import org.json.simple.parser.JSONParser;
import org.junit.jupiter.api.Test;
import org.junit.runner.RunWith;
import org.mockito.InjectMocks;
import org.skyscreamer.jsonassert.JSONAssert;
import org.skyscreamer.jsonassert.JSONCompareMode;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;
import org.springframework.boot.test.mock.mockito.MockBean;
import org.springframework.http.MediaType;
import org.springframework.test.web.servlet.MockMvc;
import org.springframework.test.web.servlet.MvcResult;
import org.springframework.test.web.servlet.RequestBuilder;
import org.springframework.test.web.servlet.request.MockMvcRequestBuilders;

import com.google.gson.Gson;
import com.google.gson.reflect.TypeToken;

import Test.courseapi.Employee;
import Test.courseapi.EmployeeService;
import Test.courseapi.TopicController;

import static org.mockito.Mockito.*;

import java.io.Reader;
import java.util.Arrays;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
class ServiceMockito {

	@Autowired
	private MockMvc mockMvc;
	@MockBean
	private Employee emp;
	@InjectMocks
	private EmployeeService EmpService;
	

	
	    @Test
	    public void testRetrieveProjecteDetails() throws Exception {
	    	
	    	 String expected_json_string ="{\"AllEmployeeDetails\":[{\"id\":\"1\",\"name\":\"A\"}]}";
	    	 JSONObject actual_json = new JSONObject(emp.Employee().toString());
	    		

	    	 JSONObject expected_json = new JSONObject(expected_json_string);
				JSONAssert.assertEquals(
						expected_json, actual_json, JSONCompareMode.NON_EXTENSIBLE);
		
	    }
	
}

